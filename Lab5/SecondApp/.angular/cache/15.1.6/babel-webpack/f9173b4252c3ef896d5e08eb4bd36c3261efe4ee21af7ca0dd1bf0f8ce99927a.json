{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { products } from '../products';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/cdk/clipboard\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../product-alerts/product-alerts.component\";\nfunction ProductListComponent_div_2_div_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", product_r1.images[0], i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ProductListComponent_div_2_div_1_img_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 10);\n  }\n}\nfunction ProductListComponent_div_2_div_1_pre_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"pre\");\n    i0.ɵɵtext(1, \"Description:\");\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", product_r1.description, \"\\n        \");\n  }\n}\nfunction ProductListComponent_div_2_div_1_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"a\", 11);\n    i0.ɵɵtext(2, \" To Kaspi.kz \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"href\", product_r1.link, i0.ɵɵsanitizeUrl);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/products\", a1];\n};\nconst _c1 = function () {\n  return [];\n};\nfunction ProductListComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"h3\")(2, \"a\", 3);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, ProductListComponent_div_2_div_1_div_4_Template, 2, 1, \"div\", 4);\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtemplate(6, ProductListComponent_div_2_div_1_img_6_Template, 1, 0, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, ProductListComponent_div_2_div_1_pre_7_Template, 4, 1, \"pre\", 4);\n    i0.ɵɵtemplate(8, ProductListComponent_div_2_div_1_p_8_Template, 3, 1, \"p\", 4);\n    i0.ɵɵelementStart(9, \"div\")(10, \"input\", 6);\n    i0.ɵɵlistener(\"change\", function ProductListComponent_div_2_div_1_Template_input_change_10_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const product_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.like(product_r1));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"Like\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\")(13, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_div_2_div_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const product_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.share(product_r1.link, \"https://web.telegram.org/k/\"));\n    });\n    i0.ɵɵtext(14, \" Share \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"app-product-alerts\", 8);\n    i0.ɵɵlistener(\"notify\", function ProductListComponent_div_2_div_1_Template_app_product_alerts_notify_15_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.onNotify());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\")(17, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_div_2_div_1_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const product_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.delete(product_r1));\n    });\n    i0.ɵɵtext(18, \" Delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"div\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"title\", product_r1.name + \" details\")(\"routerLink\", i0.ɵɵpureFunction1(9, _c0, product_r1.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r1.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.images);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(11, _c1).constructor(product_r1.rating));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.link);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"checked\", product_r1.liked);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"product\", product_r1);\n  }\n}\nfunction ProductListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProductListComponent_div_2_div_1_Template, 20, 12, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.inList(product_r1.category) && product_r1.visible);\n  }\n}\nexport class ProductListComponent {\n  constructor(clipboard) {\n    this.clipboard = clipboard;\n    this.numLiked = new EventEmitter();\n    this.products = products;\n  }\n  share(link, destination) {\n    window.alert('The product has been shared!');\n    this.clipboard.copy(link);\n    window.open(destination);\n  }\n  onNotify() {\n    window.alert('You will be notified when the product goes on sale');\n  }\n  inList(category) {\n    for (let i of this.status) {\n      if (i.type == category) {\n        return true;\n      }\n    }\n    return false;\n  }\n  delete(product) {\n    product.visible = false;\n  }\n  like(product) {\n    if (product.liked) {\n      product.liked = true;\n      this.numLiked.emit(1);\n    } else {\n      product.liked = false;\n      this.numLiked.emit(-1);\n    }\n  }\n}\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.Clipboard));\n};\nProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductListComponent,\n  selectors: [[\"app-product-list\"]],\n  inputs: {\n    status: \"status\"\n  },\n  outputs: {\n    numLiked: \"numLiked\"\n  },\n  decls: 3,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [\"class\", \"block\", 4, \"ngIf\"], [1, \"block\"], [3, \"title\", \"routerLink\"], [4, \"ngIf\"], [\"src\", \"https://pngicon.ru/file/uploads/zvezda.png\", \"height\", \"30px\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"checkbox\", 3, \"checked\", \"change\"], [\"type\", \"button\", 3, \"click\"], [3, \"product\", \"notify\"], [\"height\", \"300px\", 3, \"src\"], [\"src\", \"https://pngicon.ru/file/uploads/zvezda.png\", \"height\", \"30px\"], [\"target\", \"\\u201D_blank\\u201D\", 3, \"href\"]],\n  template: function ProductListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, ProductListComponent_div_2_Template, 2, 1, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.ProductAlertsComponent],\n  styles: [\".block[_ngcontent-%COMP%]{\\r\\n    border:1px solid black;\\r\\n    padding: 10px;\\r\\n}\\r\\nbutton[_ngcontent-%COMP%]{\\r\\n    margin:5px 0;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdC1saXN0L3Byb2R1Y3QtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLGFBQWE7QUFDakI7QUFDQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7Ozs7Q0FJQyIsInNvdXJjZXNDb250ZW50IjpbIi5ibG9ja3tcclxuICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG59XHJcbmJ1dHRvbntcclxuICAgIG1hcmdpbjo1cHggMDtcclxufVxyXG5cclxuLypcclxuQ29weXJpZ2h0IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcblVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXRcclxuY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcclxuKi8iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["EventEmitter","products","i0","ProductListComponent","constructor","clipboard","share","link","destination","window","alert","copy","open","onNotify","inList","category","i","status","type","delete","product","visible","like","liked","numLiked","emit","selectors","inputs","outputs","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Chipchilinka\\Desktop\\Четверка\\ВЕБ\\Web Dev\\Lab5\\SecondApp\\src\\app\\product-list\\product-list.component.ts","C:\\Users\\Chipchilinka\\Desktop\\Четверка\\ВЕБ\\Web Dev\\Lab5\\SecondApp\\src\\app\\product-list\\product-list.component.html"],"sourcesContent":["import { Component , Input, Output, EventEmitter} from '@angular/core';\r\nimport { Clipboard } from '@angular/cdk/clipboard';\r\nimport { products, Product } from '../products';\r\nimport { Category } from '../categories';\r\n\r\n@Component({\r\n  selector: 'app-product-list',\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.css']\r\n})\r\nexport class ProductListComponent {\r\n  @Input() status !: Category[];\r\n  @Output() numLiked = new EventEmitter();\r\n  products = products;\r\n  constructor(private clipboard: Clipboard) {}\r\n  share(link:string, destination:string) {\r\n    window.alert('The product has been shared!');\r\n    this.clipboard.copy(link);\r\n    window.open(destination);\r\n  }\r\n\r\n  onNotify() {\r\n    window.alert('You will be notified when the product goes on sale');\r\n  }\r\n\r\n  inList(category:string){\r\n    for (let i of this.status){\r\n      if (i.type == category){\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  delete(product:Product){\r\n    product.visible=false;\r\n  }\r\n\r\n  like(product:Product){\r\n    if (product.liked){\r\n      product.liked = true;\r\n      this.numLiked.emit(1);\r\n    }\r\n    else {\r\n      product.liked = false;\r\n      this.numLiked.emit(-1);\r\n\r\n    }\r\n  }\r\n}\r\n\r\n/*\r\nCopyright Google LLC. All Rights Reserved.\r\nUse of this source code is governed by an MIT-style license that\r\ncan be found in the LICENSE file at https://angular.io/license\r\n*/","<h2>Products</h2>\r\n\r\n<div *ngFor=\"let product of products\">\r\n    <div *ngIf=\"inList(product.category) && product.visible\" class=\"block\">\r\n        <h3>\r\n            <a [title]=\"product.name + ' details'\"\r\n               [routerLink]=\"['/products', product.id]\">\r\n                {{ product.name }}\r\n            </a>\r\n        </h3>\r\n        <div *ngIf=\"product.images\">\r\n            <img [src]='product.images[0]' height=\"300px\">\r\n        </div>\r\n        <div>\r\n            <img *ngFor=\"let _ of [].constructor(product.rating)\" src=\"https://pngicon.ru/file/uploads/zvezda.png\" height=\"30px\">\r\n        </div>\r\n        <pre *ngIf=\"product.description\">Description:<br>{{product.description}}\r\n        </pre>\r\n        <p *ngIf=\"product.link\">\r\n            <a [href]=\"product.link\" target=”_blank”>\r\n                To Kaspi.kz\r\n            </a>\r\n        </p>\r\n        <div><input type=\"checkbox\" [checked]=\"product.liked\" (change)=\"like(product)\">Like</div>\r\n        <div><button type=\"button\" (click)=\"share(product.link, 'https://web.telegram.org/k/')\">\r\n            Share\r\n        </button></div>\r\n        <app-product-alerts\r\n                [product]=\"product\"\r\n                (notify)=\"onNotify()\">\r\n        </app-product-alerts>\r\n        <div><button type=\"button\" (click)=\"delete(product)\">\r\n            Delete\r\n        </button><div>\r\n    </div>\r\n</div>\r\n\r\n<!-- \r\nCopyright Google LLC. All Rights Reserved.\r\nUse of this source code is governed by an MIT-style license that\r\ncan be found in the LICENSE file at https://angular.io/license\r\n-->"]},"metadata":{},"sourceType":"module","externalDependencies":[]}